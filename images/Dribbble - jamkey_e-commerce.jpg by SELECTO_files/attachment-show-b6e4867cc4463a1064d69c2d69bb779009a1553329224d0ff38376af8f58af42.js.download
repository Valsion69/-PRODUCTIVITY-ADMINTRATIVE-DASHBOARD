var Dribbble=Dribbble||{};Dribbble.JsConfig=Dribbble.JsConfig||{},Dribbble.String={capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},kebabCaseToTitleCase:function(e){return e.split("-").join(" ").replace(/\w\S*/g,function(e){return this.capitalize(e)}.bind(this))}},Dribbble.AdNetworks=Dribbble.AdNetworks||{},Dribbble.AdNetworks.Boost={load:function(e){var t={impression_id:e.requestId,placement:Dribbble.String.kebabCaseToTitleCase(e.placement),provider:"Dribbble",unit_type:"Boosted Shots"};Dribbble.Itly.adRequested(t);var i=document.querySelector(".js-shot-page-ad-boosted");if(i){var r=i.dataset.boostUrl||"/screenshot_boost?request_source=Similar Work";$.ajax({type:"GET",url:r,success:function(e){$(".boosted-shot-container").html(e),Dribbble.AdNetworks.Ad.init({itlyTrackingEventProperties:t,adElement:i}),Dribbble.EventBus.$emit("boostedShotsAd:initialize")},error:function(){Dribbble.Itly.adRequestFailed(Object.assign(t,{reason:"No boosted shots available."})),i.style.display="none";var e=document.querySelector('.js-thumbnail[data-is-boost-fallback="true"]');e&&e.classList.remove("hidden-shot")}.bind(this)})}},logBoostedAdEvent:function(e,t){if(t&&t.ad_link){var i=t.ad_id;$.ajax({type:"POST",url:"/client_app/screenshot_boost_ad_events",data:{event_name:e,screenshot_boost_id:i,request_source:"Similar Work"}})}}},Dribbble.AdNetworks.Ad={init:function(e){if(this.adElement=e.adElement,this.hasBeenScrolledIntoView=!1,this.itlyTrackingEventProperties=e.itlyTrackingEventProperties,this.adElement){var t=this.adElement.querySelector("[data-ad-data]");if(t){var i;switch(this.adData=JSON.parse(t.dataset.adData),this.adData.ad_link_type){case"shot-page":i="Shot";break;case"profile":i="Profile";break;case"custom":default:i="Custom URL"}this.itlyAdData={ad_id:this.adData.ad_id.toString(),ad_link:this.adData.ad_link,ad_link_type:i,ad_text:this.adData.ad_text||"",has_cta:!1}}Dribbble.Itly.adServed(Object.assign(this.itlyTrackingEventProperties,this.itlyAdData)),Dribbble.AdNetworks.Boost.logBoostedAdEvent("ad_served",this.adData),this.bindEvents()}else Dribbble.Itly.adRequestFailed(Object.assign(this.itlyTrackingEventProperties,{reason:"Ad element was not found."}))},bindEvents:function(){this.adElement.querySelectorAll(".js-boosted-shot-link").forEach(function(e){e.onclick=this.onClickAd.bind(this)},this);var e=document.querySelector(".shot-overlay.overlay-visible .overlay-content");e?e.onscroll=function(){this.onScroll(e)}.bind(this):window.onscroll=function(){this.onScroll()}.bind(this)},onClickAd:function(){Dribbble.Itly.adClicked(Object.assign(this.itlyTrackingEventProperties,this.itlyAdData))},onScroll:function(){this.adElement&&(this.adElement.getBoundingClientRect().bottom<=window.innerHeight&&!this.hasBeenScrolledIntoView&&(this.hasBeenScrolledIntoView=!0,Dribbble.Itly.adImpressionViewed(Object.assign(this.itlyTrackingEventProperties,this.itlyAdData)),Dribbble.AdNetworks.Boost.logBoostedAdEvent("ad_impression_viewed",this.adData)))}},Dribbble.pathName=function(e){var t=document.createElement("a");t.href=e;var i=t.pathname;return"/"!=i.charAt(0)?"/"+i:i},Dribbble.Analytics={existingProperties:[],sentEvents:[],reset:function(){this.existingProperties=[],this.sentEvents=[],this.namedRoot=null,this.googleAnalyticsKey=null},logDribbbleGAPageView:function(){gtag("config",this.googleAnalyticsKey)},logPageView:function(e,t,i,r){this.log(e,"page_view","event",{page_path:i,page_title:r})},log:function(e,t,i,r,a){if("undefined"==typeof ga&&"undefined"==typeof gtag)(a=2*(a||50))<1e4&&setTimeout(function(){this.log(e,t,i,r,a)}.bind(this),a);else{var o={send_to:e,name:t};gtag(i,t,Object.assign(o,r))}}},Dribbble.imageOnLoad=function(e,t){function i(e,t){var i;return function(){return e&&(i=e.apply(t||this,arguments),e=null),i}}var r=i(t);e.addEventListener("load",r),e.complete&&0<e.naturalWidth&&r()},Dribbble.isMobile=function(){var e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;return e&&t},Dribbble.isMobileSafari=function(){return!!navigator.userAgent.match(/(iPad|iPhone|iPod touch)/)},Dribbble.isAndroidChrome=function(){var e=navigator.userAgent,t=/Android/i.test(e),i=/Chrome/i.test(e);return t&&i},Dribbble.isIosSafari=function(e){var t,i=navigator.userAgent,r="MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;switch(e){case"iPhone":t=/(iPhone)/i.test(i);break;case"iPad":t=/(iPad)/i.test(i)||r;break;default:t=/(iPhone|iPad)/i.test(i)||r}var a=/WebKit/i.test(i),o=/CriOS/i.test(i),n=/FxiOS/i.test(i);return t&&a&&!o&&!n},Dribbble.isMobileViewport=function(){return window.matchMedia("screen and (max-width: 959px)").matches},Dribbble.VideoPlayer=function(){var a=function(e,t){var i=null;return function(){window.clearTimeout(i),i=window.setTimeout(function(){e()},t)}},e=function(e){this.videos=document.querySelectorAll(e),this.videos.forEach(function(t){container=t.parentElement,controls=container.querySelector(".video-controls"),hasAudio="true"!=t.dataset.silent,muteControls=controls.querySelector(".mute-controls"),t.muteControls=muteControls,muteControls.className="mute-controls mute-mute",t.muted=!0;var i=0,e=function(){var e=t.dataset;t.offsetWidth<400&&400<i&&e.videoSmall?(t.src=e.videoSmall,i=400):t.offsetWidth<800&&(800<i||i<=400)&&e.videoMedium?(t.src=e.videoMedium,i=800):e.videoLarge&&i<=800?(t.src=e.videoLarge,i=801):e.src&&!t.src&&(t.src=e.src)},r=a(e,250);window.addEventListener("resize",r),t.src||e(),Dribbble.isMobile()&&(controls.classList.add("mobile"),muteControls.children.length&&Array.prototype.forEach.call(muteControls.children,function(e){e.removeAttribute("rel"),e.removeAttribute("original-title")})),hasAudio?muteControls.addEventListener("click",o.togglemute(t)):controls.style.display="none",t.autoplay||(t.addEventListener("mouseenter",o.play(t)),t.addEventListener("mouseleave",o.pause(t)),controls.addEventListener("mouseenter",o.play(t)),controls.addEventListener("mouseleave",o.pause(t))),t.dataset.shotUrl&&t.addEventListener("click",o.clicked(t))})},o={togglemute:function(e){return function(){e.muteControls.className=e.muted?"mute-controls mute-unmute":"mute-controls mute-mute",e.muted=!e.muted}},play:function(e){return function(){e.play()}},pause:function(e){return function(){e.pause()}},clicked:function(e){return function(){window.location=e.dataset.shotUrl}}};return e}(),Dribbble.FullScreenViewer={initialize:function(){this.fullScreenHeader=document.querySelector(".full-screen-header"),this.thumbnails=this.fullScreenHeader.querySelector(".header-thumbnails ul"),this.mainViewer=document.querySelector(".full-screen-main"),this.viewerMedia=this.mainViewer.querySelector("img, video"),this.mainViewer&&this.viewerMedia?(this.viewerSelectorKind=this.viewerMedia.tagName.toLowerCase(),this.setupViewer(),this.handleHeaderClasses(),this.checkThumbnailsScroll(),this.scrollthumbnails(),this.bindEventListeners()):console.error("Could not find a media item inside the main viewer.")},setupViewer:function(){var e=this;if(this.ViewerWidth=this.mainViewer.clientWidth,this.mainViewer.classList.add("loading"),"video"===this.viewerSelectorKind)e.viewerMedia.onloadeddata=function(){e.mediaWidth=e.viewerMedia.videoWidth,e.mainViewer.classList.remove("loading"),e.mainViewer.querySelector(".video-controls").classList.add("show")},new Dribbble.VideoPlayer("video");else if("img"===this.viewerSelectorKind){var t=function(){e.mainViewer.classList.remove("loading"),e.mediaWidth=e.viewerMedia.naturalWidth,e.shouldZoom()};Dribbble.imageOnLoad(this.viewerMedia,t)}},handleHeaderClasses:function(){this.thumbnails&&(this.fullScreenHeader.clientWidth===this.thumbnails.clientWidth?this.fullScreenHeader.classList.add("is-full"):this.fullScreenHeader.classList.remove("is-full"))},checkThumbnailsScroll:function(){this.thumbnails&&(this.thumbnailScrollable=!1,this.thumbnailsWidth=this.thumbnails.offsetWidth,this.thumbnailsScrollWidth=this.thumbnails.scrollWidth,this.thumbnailsScrollWidth>this.thumbnailsWidth?(this.thumbnailScrollable=!0,this.thumbnails.classList.add("scrollable")):(this.thumbnailScrollable=!1,this.thumbnails.classList.remove("scrollable")),this.updateScrollIndicators(),this.thumbnailScrollable&&!this.hasScrollEvent&&(Dribbble.Globals.debounce().then(function(e){var t=e(this.handleThumbnailsScroll.bind(this),100);this.thumbnails.addEventListener("scroll",t)}.bind(this)),this.hasScrollEvent=!0))},scrollthumbnails:function(){if(this.thumbnailScrollable){var e=this.thumbnails.querySelector(".active"),t=this.thumbnails.getBoundingClientRect().left,i=Math.round(e.getBoundingClientRect().left-t);this.thumbnails.scrollLeft=i-40}},shouldZoom:function(){this.canZoom=this.mediaWidth>this.ViewerWidth,"img"===this.viewerSelectorKind&&(this.canZoom?this.mainViewer.classList.add("can-zoom"):this.mainViewer.classList.remove("can-zoom"))},bindEventListeners:function(){window.addEventListener("resize",this.handleResize.bind(this)),"img"===this.viewerSelectorKind&&this.viewerMedia.addEventListener("click",function(){this.canZoom&&(this.mainViewer.classList.toggle("zoomed"),this.viewerMedia.classList.toggle("zoomed"))}.bind(this))},updateScrollIndicators:function(){var e=Math.ceil(this.thumbnails.scrollLeft),t=0<e,i=e+this.thumbnailsWidth>=this.thumbnailsScrollWidth;t?this.thumbnails.classList.add("scrolled-left"):this.thumbnails.classList.remove("scrolled-left"),i?this.thumbnails.classList.remove("scrolled-right"):this.thumbnails.classList.add("scrolled-right")},handleResize:function(){this.ViewerWidth=this.mainViewer.clientWidth,this.shouldZoom(),this.checkThumbnailsScroll(),this.handleHeaderClasses()},handleThumbnailsScroll:function(){this.updateScrollIndicators()}},function(e,r){"use strict";var t=e.History=e.History||{},a=e.jQuery;if("undefined"!=typeof t.Adapter)throw new Error("History.js Adapter has already been loaded...");t.Adapter={bind:function(e,t,i){a(e).on(t,i)},trigger:function(e,t,i){a(e).trigger(t,i)},extractEventData:function(e,t,i){return t&&t.originalEvent&&t.originalEvent[e]||i&&i[e]||r},onDomLoad:function(e){a(e)}},"undefined"!=typeof t.init&&t.init()}(window),function(n,i){"use strict";var l=n.console||i,u=n.document,r=n.navigator,a=!1,o=n.setTimeout,s=n.clearTimeout,d=n.setInterval,c=n.clearInterval,h=n.JSON,b=n.alert,f=n.History=n.History||{},p=n.history;try{(a=n.sessionStorage).setItem("TEST","1"),a.removeItem("TEST")}catch(e){a=!1}if(h.stringify=h.stringify||h.encode,h.parse=h.parse||h.decode,"undefined"!=typeof f.init)throw new Error("History.js Core has already been loaded...");f.init=function(){return"undefined"!=typeof f.Adapter&&("undefined"!=typeof f.initCore&&f.initCore(),"undefined"!=typeof f.initHtml4&&f.initHtml4(),!0)},f.initCore=function(){if("undefined"!=typeof f.initCore.initialized)return!1;if(f.initCore.initialized=!0,f.options=f.options||{},f.options.hashChangeInterval=f.options.hashChangeInterval||100,f.options.safariPollInterval=f.options.safariPollInterval||500,f.options.doubleCheckInterval=f.options.doubleCheckInterval||500,f.options.disableSuid=f.options.disableSuid||!1,f.options.storeInterval=f.options.storeInterval||1e3,f.options.busyDelay=f.options.busyDelay||250,f.options.debug=f.options.debug||!1,f.options.initialTitle=f.options.initialTitle||u.title,f.options.html4Mode=f.options.html4Mode||!1,f.options.delayInit=f.options.delayInit||!1,f.intervalList=[],f.clearAllIntervals=function(){var e,t=f.intervalList;if(null!=t){for(e=0;e<t.length;e++)c(t[e]);f.intervalList=null}},f.debug=function(){f.options.debug&&f.log.apply(f,arguments)},f.log=function(e){var t,i,r,a,o,n=void 0!==l&&"undefined"!=typeof l.log&&"undefined"!=typeof l.log.apply,s=u.getElementById("log");for(n?(t=(a=Array.prototype.slice.call(arguments)).shift(),"undefined"!=typeof l.debug?l.debug.apply(l,[t,a]):l.log.apply(l,[t,a])):t="\n"+e+"\n",i=1,r=arguments.length;i<r;++i){if("object"==typeof(o=arguments[i])&&void 0!==h)try{o=h.stringify(o)}catch(c){}t+="\n"+o+"\n"}return s?(s.value+=t+"\n-----\n",s.scrollTop=s.scrollHeight-s.clientHeight):n||b(t),!0},f.getInternetExplorerMajorVersion=function(){return f.getInternetExplorerMajorVersion.cached="undefined"!=typeof f.getInternetExplorerMajorVersion.cached?f.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=u.createElement("div"),i=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&i[0];);return 4<e&&e}()},f.isInternetExplorer=function(){return f.isInternetExplorer.cached="undefined"!=typeof f.isInternetExplorer.cached?f.isInternetExplorer.cached:Boolean(f.getInternetExplorerMajorVersion())},f.options.html4Mode?f.emulated={pushState:!0,hashChange:!0}:f.emulated={pushState:!Boolean(n.history&&n.history.pushState&&n.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(r.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(r.userAgent)),hashChange:Boolean(!("onhashchange"in n||"onhashchange"in u)||f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<8)},f.enabled=!f.emulated.pushState,f.bugs={setHash:Boolean(!f.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),safariPoll:Boolean(!f.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),ieDoubleCheck:Boolean(f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<7)},f.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},f.cloneObject=function(e){var t,i;return e?(t=h.stringify(e),i=h.parse(t)):i={},i},f.getRootUrl=function(){var e=u.location.protocol+"//"+(u.location.hostname||u.location.host);return u.location.port&&(e+=":"+u.location.port),e+="/"},f.getBaseHref=function(){var e=u.getElementsByTagName("base"),t="";return 1===e.length&&(t=e[0].href.replace(/[^\/]+$/,"")),(t=t.replace(/\/+$/,""))&&(t+="/"),t},f.getBaseUrl=function(){return f.getBaseHref()||f.getBasePageUrl()||f.getRootUrl()},f.getPageUrl=function(){return((f.getState(!1,!1)||{}).url||f.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},f.getBasePageUrl=function(){return f.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/"},f.getFullUrl=function(e,t){var i=e,r=e.substring(0,1);return t=void 0===t||t,/[a-z]+\:\/\//.test(e)||(i="/"===r?f.getRootUrl()+e.replace(/^\/+/,""):"#"===r?f.getPageUrl().replace(/#.*/,"")+e:"?"===r?f.getPageUrl().replace(/[\?#].*/,"")+e:t?f.getBaseUrl()+e.replace(/^(\.\/)+/,""):f.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},f.getShortUrl=function(e){var t=e,i=f.getBaseUrl(),r=f.getRootUrl();return f.emulated.pushState&&(t=t.replace(i,"")),t=t.replace(r,"/"),f.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},f.getLocationHref=function(e){return(e=e||u).URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},f.store={},f.idToState=f.idToState||{},f.stateToId=f.stateToId||{},f.urlToId=f.urlToId||{},f.storedStates=f.storedStates||[],f.savedStates=f.savedStates||[],f.normalizeStore=function(){f.store.idToState=f.store.idToState||{},f.store.urlToId=f.store.urlToId||{},f.store.stateToId=f.store.stateToId||{}},f.getState=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var i=f.getLastSavedState();return!i&&t&&(i=f.createStateObject()),e&&((i=f.cloneObject(i)).url=i.cleanUrl||i.url),i},f.getIdByState=function(e){var t,i=f.extractId(e.url);if(!i)if(t=f.getStateString(e),"undefined"!=typeof f.stateToId[t])i=f.stateToId[t];else if("undefined"!=typeof f.store.stateToId[t])i=f.store.stateToId[t];else{for(;i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof f.idToState[i]||"undefined"!=typeof f.store.idToState[i];);f.stateToId[t]=i,f.idToState[i]=e}return i},f.normalizeState=function(e){var t,i;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),(t={normalized:!0}).title=e.title||"",t.url=f.getFullUrl(e.url?e.url:f.getLocationHref()),t.hash=f.getShortUrl(t.url),t.data=f.cloneObject(e.data),t.id=f.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,i=!f.isEmptyObject(t.data),(t.title||i)&&!0!==f.options.disableSuid&&(t.hash=f.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=f.getFullUrl(t.hash),(f.emulated.pushState||f.bugs.safariPoll)&&f.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},f.createStateObject=function(e,t,i){var r={data:e,title:t,url:i};return r=f.normalizeState(r)},f.getStateById=function(e){return e=String(e),f.idToState[e]||f.store.idToState[e]||i},f.getStateString=function(e){var t;return t={data:f.normalizeState(e).data,title:e.title,url:e.url},h.stringify(t)},f.getStateId=function(e){return f.normalizeState(e).id},f.getHashByState=function(e){return f.normalizeState(e).hash},f.extractId=function(e){var t,i;return i=-1!=e.indexOf("#")?e.split("#")[0]:e,(t=/(.*)\&_suid=([0-9]+)$/.exec(i))&&t[1]||e,(t?String(t[2]||""):"")||!1},f.isTraditionalAnchor=function(e){return!/[\/\?\.]/.test(e)},f.extractState=function(e,t){var i,r,a=null;return t=t||!1,(i=f.extractId(e))&&(a=f.getStateById(i)),a||(r=f.getFullUrl(e),(i=f.getIdByUrl(r)||!1)&&(a=f.getStateById(i)),!a&&t&&!f.isTraditionalAnchor(e)&&(a=f.createStateObject(null,null,r))),a},f.getIdByUrl=function(e){return f.urlToId[e]||f.store.urlToId[e]||i},f.getLastSavedState=function(){return f.savedStates[f.savedStates.length-1]||i},f.getLastStoredState=function(){return f.storedStates[f.storedStates.length-1]||i},f.hasUrlDuplicate=function(e){var t;return(t=f.extractState(e.url))&&t.id!==e.id},f.storeState=function(e){return f.urlToId[e.url]=e.id,f.storedStates.push(f.cloneObject(e)),e},f.isLastSavedState=function(e){var t=!1;return f.savedStates.length&&(t=e.id===f.getLastSavedState().id),t},f.saveState=function(e){return!f.isLastSavedState(e)&&(f.savedStates.push(f.cloneObject(e)),!0)},f.getStateByIndex=function(e){return void 0===e?f.savedStates[f.savedStates.length-1]:e<0?f.savedStates[f.savedStates.length+e]:f.savedStates[e]},f.getCurrentIndex=function(){return f.savedStates.length<1?0:f.savedStates.length-1},f.getHash=function(e){var t=f.getLocationHref(e);return f.getHashByUrl(t)},f.unescapeHash=function(e){var t=f.normalizeHash(e);return t=decodeURIComponent(t)},f.normalizeHash=function(e){return e.replace(/[^#]*#/,"").replace(/#.*/,"")},f.setHash=function(e,t){var i,r;return!1!==t&&f.busy()?(f.pushQueue({scope:f,callback:f.setHash,args:arguments,queue:t}),!1):(f.busy(!0),(i=f.extractState(e,!0))&&!f.emulated.pushState?f.pushState(i.data,i.title,i.url,!1):f.getHash()!==e&&(f.bugs.setHash?(r=f.getPageUrl(),f.pushState(null,null,r+"#"+e,!1)):u.location.hash=e),f)},f.escapeHash=function(e){var t=f.normalizeHash(e);return t=n.encodeURIComponent(t),f.bugs.hashEscape||(t=t.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),t},f.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=f.unescapeHash(t)},f.setTitle=function(e){var t,i=e.title;i||(t=f.getStateByIndex(0))&&t.url===e.url&&(i=t.title||f.options.initialTitle);try{u.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(r){}return u.title=i,f},f.queues=[],f.busy=function(e){if(void 0!==e?f.busy.flag=e:"undefined"==typeof f.busy.flag&&(f.busy.flag=!1),!f.busy.flag){s(f.busy.timeout);var r=function(){var e,t,i;if(!f.busy.flag)for(e=f.queues.length-1;0<=e;--e)0!==(t=f.queues[e]).length&&(i=t.shift(),f.fireQueueItem(i),f.busy.timeout=o(r,f.options.busyDelay))};f.busy.timeout=o(r,f.options.busyDelay)}return f.busy.flag},f.busy.flag=!1,f.fireQueueItem=function(e){return e.callback.apply(e.scope||f,e.args||[])},f.pushQueue=function(e){return f.queues[e.queue||0]=f.queues[e.queue||0]||[],f.queues[e.queue||0].push(e),f},f.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),void 0!==t&&(e.queue=t),f.busy()?f.pushQueue(e):f.fireQueueItem(e),f},f.clearQueue=function(){return f.busy.flag=!1,f.queues=[],f},f.stateChanged=!1,f.doubleChecker=!1,f.doubleCheckComplete=function(){return f.stateChanged=!0,f.doubleCheckClear(),f},f.doubleCheckClear=function(){return f.doubleChecker&&(s(f.doubleChecker),f.doubleChecker=!1),f},f.doubleCheck=function(e){return f.stateChanged=!1,f.doubleCheckClear(),f.bugs.ieDoubleCheck&&(f.doubleChecker=o(function(){return f.doubleCheckClear(),f.stateChanged||e(),!0},f.options.doubleCheckInterval)),f},f.safariStatePoll=function(){var e=f.extractState(f.getLocationHref());if(!f.isLastSavedState(e))return e||f.createStateObject(),f.Adapter.trigger(n,"popstate"),f},f.back=function(e){return!1!==e&&f.busy()?(f.pushQueue({scope:f,callback:f.back,args:arguments,queue:e}),!1):(f.busy(!0),f.doubleCheck(function(){f.back(!1)}),p.go(-1),!0)},f.forward=function(e){return!1!==e&&f.busy()?(f.pushQueue({scope:f,callback:f.forward,args:arguments,queue:e}),!1):(f.busy(!0),f.doubleCheck(function(){f.forward(!1)}),p.go(1),!0)},f.go=function(e,t){var i;if(0<e)for(i=1;i<=e;++i)f.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;e<=i;--i)f.back(t)}return f},f.emulated.pushState){var e=function(){};f.pushState=f.pushState||e,f.replaceState=f.replaceState||e}else f.onPopState=function(e,t){var i,r,a=!1,o=!1;return f.doubleCheckComplete(),(i=f.getHash())?((r=f.extractState(i||f.getLocationHref(),!0))?f.replaceState(r.data,r.title,r.url,!1):(f.Adapter.trigger(n,"anchorchange"),f.busy(!1)),f.expectedStateId=!1):((o=(a=f.Adapter.extractEventData("state",e,t)||!1)?f.getStateById(a):f.expectedStateId?f.getStateById(f.expectedStateId):f.extractState(f.getLocationHref()))||(o=f.createStateObject(null,null,f.getLocationHref())),f.expectedStateId=!1,f.isLastSavedState(o)?(f.busy(!1),!1):(f.storeState(o),f.saveState(o),f.setTitle(o),f.Adapter.trigger(n,"statechange"),f.busy(!1),!0))},f.Adapter.bind(n,"popstate",f.onPopState),f.pushState=function(e,t,i,r){if(f.getHashByUrl(i)&&f.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&f.busy())return f.pushQueue({scope:f,callback:f.pushState,args:arguments,queue:r}),!1;f.busy(!0);var a=f.createStateObject(e,t,i);return f.isLastSavedState(a)?f.busy(!1):(f.storeState(a),f.expectedStateId=a.id,p.pushState(a.id,a.title,a.url),f.Adapter.trigger(n,"popstate")),!0},f.replaceState=function(e,t,i,r){if(f.getHashByUrl(i)&&f.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==r&&f.busy())return f.pushQueue({scope:f,callback:f.replaceState,args:arguments,queue:r}),!1;f.busy(!0);var a=f.createStateObject(e,t,i);return f.isLastSavedState(a)?f.busy(!1):(f.storeState(a),f.expectedStateId=a.id,p.replaceState(a.id,a.title,a.url),f.Adapter.trigger(n,"popstate")),!0};if(a){try{f.store=h.parse(a.getItem("History.store"))||{}}catch(t){f.store={}}f.normalizeStore()}else f.store={},f.normalizeStore();f.Adapter.bind(n,"unload",f.clearAllIntervals),f.saveState(f.storeState(f.extractState(f.getLocationHref(),!0))),a&&(f.onUnload=function(){var e,t,i;try{e=h.parse(a.getItem("History.store"))||{}}catch(u){e={}}for(t in e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{},f.idToState)f.idToState.hasOwnProperty(t)&&(e.idToState[t]=f.idToState[t]);for(t in f.urlToId)f.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=f.urlToId[t]);for(t in f.stateToId)f.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=f.stateToId[t]);f.store=e,f.normalizeStore(),i=h.stringify(e);try{a.setItem("History.store",i)}catch(r){if(r.code!==DOMException.QUOTA_EXCEEDED_ERR)throw r;a.length&&(a.removeItem("History.store"),a.setItem("History.store",i))}},f.intervalList.push(d(f.onUnload,f.options.storeInterval)),f.Adapter.bind(n,"beforeunload",f.onUnload),f.Adapter.bind(n,"unload",f.onUnload)),f.emulated.pushState||(f.bugs.safariPoll&&f.intervalList.push(d(f.safariStatePoll,f.options.safariPollInterval)),"Apple Computer, Inc."!==r.vendor&&"Mozilla"!==(r.appCodeName||"")||(f.Adapter.bind(n,"hashchange",function(){f.Adapter.trigger(n,"popstate")}),f.getHash()&&f.Adapter.onDomLoad(function(){f.Adapter.trigger(n,"hashchange")})))},(!f.options||!f.options.delayInit)&&f.init()}(window),Dribbble.Router={initialize:function(){Dribbble.isHistorySupported&&History.Adapter.bind(window,"statechange",function(){var e=document.location.pathname,t=/\/attachments(\/|$)/;$(".attachment-overlay").is(":visible")?e.match(t)?Dribbble.Attachments.showOverlay(document.location.toString()):Dribbble.Attachments.hideOverlay():e.match(t)?void 0!==Dribbble&&Dribbble.Attachments?Dribbble.Attachments.showOverlay(document.location.toString()):window.location.reload(!0):$("#viewer").length?window.location.reload(!0):Dribbble.GoodOverlay||Dribbble.ShotOverlay&&Dribbble.ShotOverlay.active?e.match(/^\/shots\/\d+[^/]+$/)?Dribbble.ShotOverlay.show(document.location.toString(),Dribbble.Router.referer):e.match(/^\/goods\/\d+[^/]+$/)?Dribbble.GoodOverlay.show(document.location.toString(),Dribbble.Router.referer):Dribbble.GoodOverlay&&Dribbble.GoodOverlay.isOpen()?Dribbble.GoodOverlay.hide():Dribbble.ShotOverlay.hide():Dribbble.ShotOverlayModal&&Dribbble.ShotOverlayModal.active?e.match(/^\/shots\/\d+[^/]+$/)?Dribbble.ShotOverlayModal.show(document.location.toString()):Dribbble.ShotOverlayModal.hide():e.match(/\/scout/)?window.location.reload(!0):e.match(/^\/admin\/talent/)?$(document).scrollTop(0):($(document).scrollTop(0),window.location.reload(!0)),history.state!=undefined&&history.state.title!=undefined&&(document.title=history.state.title)})},go:function(e){history.go(e)},pushState:function(e,t,i){this.referer=window.location.toString(),History.pushState(e,t,i)},replaceState:function(e,t,i){history.replaceState(e,t,i),document.title=t}},Dribbble.Router.initialize(),Dribbble.FullScreenViewer.initialize();